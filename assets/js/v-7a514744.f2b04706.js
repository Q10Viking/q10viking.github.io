"use strict";(self.webpackChunkq10viking_github_io=self.webpackChunkq10viking_github_io||[]).push([[40149],{8148:(a,n,s)=>{s.r(n),s.d(n,{data:()=>e});const e={key:"v-7a514744",path:"/ElasticStack/04%20%E5%AE%89%E8%A3%85%E5%AE%A2%E6%88%B7%E7%AB%AFKibana.html",title:"",lang:"zh-CN",frontmatter:{sidebarDepth:3,sidebar:"auto",prev:{text:"Back To 目录",link:"/ElasticStack/"},"typora-root-url":"..\\.vuepress\\public"},excerpt:"",headers:[{level:2,title:"客户端Kibana安装",slug:"客户端kibana安装",children:[]},{level:2,title:"启动kibana⭐",slug:"启动kibana⭐",children:[]},{level:2,title:"关闭kibana",slug:"关闭kibana",children:[]},{level:2,title:"kibana启动失败",slug:"kibana启动失败",children:[]},{level:2,title:"防火墙设置⭐",slug:"防火墙设置⭐",children:[]}],filePathRelative:"ElasticStack/04 安装客户端Kibana.md"}},7782:(a,n,s)=>{s.r(n),s.d(n,{default:()=>u});var e=s(20641);const t=(0,e.Lk)("h2",{id:"客户端kibana安装",tabindex:"-1"},[(0,e.Lk)("a",{class:"header-anchor",href:"#客户端kibana安装","aria-hidden":"true"},"#"),(0,e.eW)(),(0,e.Lk)("strong",null,"客户端Kibana安装")],-1),l={class:"custom-container tip"},p=(0,e.Lk)("p",{class:"custom-container-title"},"TIP",-1),i=(0,e.Lk)("p",null,"ES主流客户端Kibana，es开放9200端口与图形界面客户端交互",-1),c={href:"https://www.elastic.co/cn/downloads/past-releases/kibana-7-6-1",target:"_blank",rel:"noopener noreferrer"},r=(0,e.Fv)('<ol><li><p>下载Kibana放之/usr/es目录中</p></li><li><p>解压文件：tar -zxvf kibana-7.6.1-linux-x86_64.tar.gz</p></li><li><p>用户进行授权</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># 文件拥有者</span>\n<span class="token function">chown</span> <span class="token parameter variable">-R</span> hzz /usr/es/kibana-7.6.1-linux-x86_64 \n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li><li><p>进入<code>/usr/es/kibana-7.6.1-linux-x86_64/config</code>目录</p></li><li><p>使用vi编辑器：vi kibana.yml</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>   server.port: <span class="token number">5601</span>\n   server.host: <span class="token string">&quot;服务器IP&quot;</span>\n   elasticsearch.hosts: <span class="token punctuation">[</span><span class="token string">&quot;http://IP:9200&quot;</span><span class="token punctuation">]</span>  <span class="token comment">#这里是elasticsearch的访问地址</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li></ol><p><img src="/images/elasticsearch/image-20211112031744988.png" alt="image-20211112031744988"></p><h2 id="启动kibana⭐" tabindex="-1"><a class="header-anchor" href="#启动kibana⭐" aria-hidden="true">#</a> 启动kibana⭐</h2><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token builtin class-name">cd</span> /usr/es/kibana-7.6.1-linux-x86_64/bin/\n<span class="token comment"># 前台启动</span>\n./kibana\n<span class="token comment"># 后台启动</span>\n<span class="token function">nohup</span>  ./kibana <span class="token operator">&amp;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>访问 http://192.168.187.132:5601/</p><hr><h2 id="关闭kibana" tabindex="-1"><a class="header-anchor" href="#关闭kibana" aria-hidden="true">#</a> 关闭kibana</h2><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># 查看占用端口的pid</span>\n<span class="token function">lsof</span> <span class="token parameter variable">-i:5601</span>\n<span class="token comment"># 结束进程</span>\n<span class="token function">kill</span> <span class="token parameter variable">-9</span> pid进程号\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="kibana启动失败" tabindex="-1"><a class="header-anchor" href="#kibana启动失败" aria-hidden="true">#</a> kibana启动失败</h2><p><img src="/images/elasticsearch/image-20210503103502970.png" alt="image-20210503103502970"></p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>  log   <span class="token punctuation">[</span>02:26:56.524<span class="token punctuation">]</span> <span class="token punctuation">[</span>warning<span class="token punctuation">]</span><span class="token punctuation">[</span>savedobjects-service<span class="token punctuation">]</span> Unable to connect to Elasticsearch. Error: <span class="token punctuation">[</span>resource_already_exists_exception<span class="token punctuation">]</span> index <span class="token punctuation">[</span>.kibana_2/QMTp-THJSribGdr-3hBTrw<span class="token punctuation">]</span> already exists, with <span class="token punctuation">{</span> <span class="token assign-left variable">index_uuid</span><span class="token operator">=</span><span class="token string">&quot;QMTp-THJSribGdr-3hBTrw&quot;</span> <span class="token operator">&amp;</span> <span class="token assign-left variable">index</span><span class="token operator">=</span><span class="token string">&quot;.kibana_2&quot;</span> <span class="token punctuation">}</span>\n  log   <span class="token punctuation">[</span>02:26:56.525<span class="token punctuation">]</span> <span class="token punctuation">[</span>warning<span class="token punctuation">]</span><span class="token punctuation">[</span>savedobjects-service<span class="token punctuation">]</span> Another Kibana instance appears to be migrating the index. Waiting <span class="token keyword">for</span> that migration to complete. If no other Kibana instance is attempting migrations, you can get past this message by deleting index .kibana_2 and restarting Kibana.\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">curl</span> <span class="token parameter variable">-XDELETE</span> http://192.168.88.173:9200/.kibana_2\n<span class="token comment"># 重启kibana</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="防火墙设置⭐" tabindex="-1"><a class="header-anchor" href="#防火墙设置⭐" aria-hidden="true">#</a> 防火墙设置⭐</h2><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># 查看是否开放端口</span>\n<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># firewall-cmd --query-port=5601/tcp</span>\nno\n\n<span class="token comment"># 需要防火墙开启该端口</span>\n<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># firewall-cmd --zone=public --add-port=5601/tcp --permanent</span>\nsuccess\n\n<span class="token comment"># 重新加载防火墙</span>\n<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># firewall-cmd --reload</span>\nsuccess\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div>',14),o={},u=(0,s(66262).A)(o,[["render",function(a,n){const s=(0,e.g2)("OutboundLink");return(0,e.uX)(),(0,e.CE)(e.FK,null,[t,(0,e.Lk)("div",l,[p,i,(0,e.Lk)("p",null,[(0,e.Lk)("a",c,[(0,e.eW)("Kibana 7.6.1 | Elastic"),(0,e.bF)(s)])])]),r],64)}]])},66262:(a,n)=>{n.A=(a,n)=>{const s=a.__vccOpts||a;for(const[a,e]of n)s[a]=e;return s}}}]);
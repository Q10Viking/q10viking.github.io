"use strict";(self.webpackChunkq10viking_github_io=self.webpackChunkq10viking_github_io||[]).push([[60082],{91260:(n,s,a)=>{a.r(s),a.d(s,{data:()=>e});const e={key:"v-5c1c854c",path:"/zk/01%20%E5%AE%89%E8%A3%85zk.html",title:"",lang:"zh-CN",frontmatter:{sidebarDepth:3,sidebar:"auto",prev:{text:"Back To 目录",link:"/zk/"},"typora-root-url":"..\\.vuepress\\public"},excerpt:"",headers:[{level:2,title:"安装zk",slug:"安装zk",children:[]},{level:2,title:"启动zk⭐",slug:"启动zk⭐",children:[]},{level:2,title:"连接服务器⭐",slug:"连接服务器⭐",children:[]},{level:2,title:"停止zk",slug:"停止zk",children:[]},{level:2,title:"用户",slug:"用户",children:[]},{level:2,title:"PrettyZoo客户端",slug:"prettyzoo客户端",children:[]}],filePathRelative:"zk/01 安装zk.md"}},38505:(n,s,a)=>{a.r(s),a.d(s,{default:()=>t});var e=a(20641);const p=(0,e.Fv)('<h2 id="安装zk" tabindex="-1"><a class="header-anchor" href="#安装zk" aria-hidden="true">#</a> 安装zk</h2><p>配置JAVA环境，检验环境：</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">java</span> <span class="token parameter variable">-version</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p><strong>下载解压 zookeeper</strong></p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code>mkdir <span class="token operator">-</span>p <span class="token operator">/</span>usr<span class="token operator">/</span>zk\nwget https<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>mirror<span class="token punctuation">.</span>bit<span class="token punctuation">.</span>edu<span class="token punctuation">.</span>cn<span class="token operator">/</span>apache<span class="token operator">/</span>zookeeper<span class="token operator">/</span>zookeeper<span class="token operator">-</span><span class="token number">3.5</span><span class="token number">.8</span><span class="token operator">/</span>apache<span class="token operator">-</span>zookeeper<span class="token operator">-</span><span class="token number">3.5</span><span class="token number">.8</span><span class="token operator">-</span>bin<span class="token punctuation">.</span>tar<span class="token punctuation">.</span>gz\ntar <span class="token operator">-</span>zxvf apache<span class="token operator">-</span>zookeeper<span class="token operator">-</span><span class="token number">3.5</span><span class="token number">.8</span><span class="token operator">-</span>bin<span class="token punctuation">.</span>tar<span class="token punctuation">.</span>gz\ncd  apache<span class="token operator">-</span>zookeeper<span class="token operator">-</span><span class="token number">3.5</span><span class="token number">.8</span><span class="token operator">-</span>bin\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><strong>重命名配置文件 zoo_sample.cfg</strong></p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">cp</span> zoo_sample.cfg  zoo.cfg \n\n<span class="token comment"># 修改默认存放的数据目录</span>\n<span class="token assign-left variable">dataDir</span><span class="token operator">=</span>/usr/zk/apache-zookeeper-3.5.8-bin/data\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="启动zk⭐" tabindex="-1"><a class="header-anchor" href="#启动zk⭐" aria-hidden="true">#</a> <strong>启动zk</strong>⭐</h2><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># 可以通过 bin/zkServer.sh  来查看都支持哪些参数 </span>\n<span class="token punctuation">[</span>root@localhost apache-zookeeper-3.5.8-bin<span class="token punctuation">]</span><span class="token comment"># bin/zkServer.sh start conf/zoo.cfg</span>\nZooKeeper JMX enabled by default\nUsing config: conf/zoo.cfg\nStarting zookeeper <span class="token punctuation">..</span>. STARTED\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="连接服务器⭐" tabindex="-1"><a class="header-anchor" href="#连接服务器⭐" aria-hidden="true">#</a> <strong>连接服务器</strong>⭐</h2><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>bin/zkCli.sh <span class="token parameter variable">-server</span> ip:port \n<span class="token comment"># 如果是在本机上连接本地的zk</span>\nbin/zkCli.sh\n\n\n<span class="token comment"># 连接集群,zk会随机选择一个进行连接</span>\nbin/zkCli.sh <span class="token parameter variable">-server</span> <span class="token number">192.168</span>.187.135:2181,192.168.187.135:2182,192.168.187.135:2183,192.168.187.135:2184\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h2 id="停止zk" tabindex="-1"><a class="header-anchor" href="#停止zk" aria-hidden="true">#</a> 停止zk</h2><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>bin/zkServer.sh stop conf/zoo.cfg\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><h2 id="用户" tabindex="-1"><a class="header-anchor" href="#用户" aria-hidden="true">#</a> 用户</h2><p>在windows子系统linux,我创建的用户是q10viking.在搭建zk的时候，需要将相关的文件夹权限设置</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># 修改权限</span>\n<span class="token function">sudo</span> <span class="token function">chown</span> q10viking:q10viking /usr/zk/zookeeper\n<span class="token comment"># 查看用户属于哪个组</span>\n<span class="token function">groups</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>drwxr-xr-x <span class="token number">8</span> q10viking q10viking  <span class="token number">4096</span> Mar <span class="token number">23</span> <span class="token number">10</span>:52 <span class="token builtin class-name">.</span>\ndrwxr-xr-x <span class="token number">3</span> root      root       <span class="token number">4096</span> Mar <span class="token number">23</span> <span class="token number">10</span>:33 <span class="token punctuation">..</span>\n-rw-r--r-- <span class="token number">1</span> q10viking q10viking <span class="token number">11358</span> May  <span class="token number">7</span>  <span class="token number">2022</span> LICENSE.txt\n-rw-r--r-- <span class="token number">1</span> q10viking q10viking  <span class="token number">2084</span> May  <span class="token number">7</span>  <span class="token number">2022</span> NOTICE.txt\n-rw-r--r-- <span class="token number">1</span> q10viking q10viking  <span class="token number">2214</span> May  <span class="token number">7</span>  <span class="token number">2022</span> README.md\n-rw-r--r-- <span class="token number">1</span> q10viking q10viking  <span class="token number">3570</span> May  <span class="token number">7</span>  <span class="token number">2022</span> README_packaging.md\ndrwxr-xr-x <span class="token number">2</span> q10viking q10viking  <span class="token number">4096</span> May  <span class="token number">7</span>  <span class="token number">2022</span> bin\ndrwxr-xr-x <span class="token number">2</span> q10viking q10viking  <span class="token number">4096</span> Mar <span class="token number">23</span> <span class="token number">10</span>:36 conf\ndrwxr-xr-x <span class="token number">3</span> q10viking q10viking  <span class="token number">4096</span> Mar <span class="token number">23</span> <span class="token number">10</span>:52 data\ndrwxr-xr-x <span class="token number">5</span> q10viking q10viking  <span class="token number">4096</span> May  <span class="token number">7</span>  <span class="token number">2022</span> docs\ndrwxr-xr-x <span class="token number">2</span> q10viking q10viking  <span class="token number">4096</span> Mar <span class="token number">23</span> <span class="token number">10</span>:27 lib\ndrwxr-xr-x <span class="token number">2</span> q10viking q10viking  <span class="token number">4096</span> Mar <span class="token number">23</span> <span class="token number">10</span>:52 logs\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h2 id="prettyzoo客户端" tabindex="-1"><a class="header-anchor" href="#prettyzoo客户端" aria-hidden="true">#</a> PrettyZoo客户端</h2><p>windows,mac的zookeeper客户端</p>',19),r={href:"https://github.com/vran-dev/PrettyZoo/releases",target:"_blank",rel:"noopener noreferrer"},l=(0,e.Lk)("p",null,[(0,e.Lk)("img",{src:"/images/zk/image-20230323121908428.png",alt:"image-20230323121908428"})],-1),o={},t=(0,a(66262).A)(o,[["render",function(n,s){const a=(0,e.g2)("OutboundLink");return(0,e.uX)(),(0,e.CE)(e.FK,null,[p,(0,e.Lk)("p",null,[(0,e.Lk)("a",r,[(0,e.eW)("Releases · vran-dev/PrettyZoo (github.com)"),(0,e.bF)(a)])]),l],64)}]])},66262:(n,s)=>{s.A=(n,s)=>{const a=n.__vccOpts||n;for(const[n,e]of s)a[n]=e;return a}}}]);
"use strict";(self.webpackChunkq10viking_github_io=self.webpackChunkq10viking_github_io||[]).push([[51668],{4379:(n,a,s)=>{s.r(a),s.d(a,{data:()=>e});const e={key:"v-2ae9ab35",path:"/Ribbon/05%20Ribbon%E7%9A%84%E9%A5%A5%E9%A5%BF%E5%8A%A0%E8%BD%BD.html",title:"",lang:"zh-CN",frontmatter:{sidebarDepth:3,sidebar:"auto",prev:{text:"Back To 目录",link:"/Ribbon/"},"typora-root-url":"..\\.vuepress\\public"},excerpt:"",headers:[{level:2,title:"饥饿加载",slug:"饥饿加载",children:[]},{level:2,title:"配置",slug:"配置",children:[]}],filePathRelative:"Ribbon/05 Ribbon的饥饿加载.md"}},64592:(n,a,s)=>{s.r(a),s.d(a,{default:()=>l});const e=(0,s(20641).Fv)('<h2 id="饥饿加载" tabindex="-1"><a class="header-anchor" href="#饥饿加载" aria-hidden="true">#</a> 饥饿加载</h2><p>在进行服务调用的时候，如果网络情况不好，第一次调用会超时。</p><p>Ribbon默认懒加载，意味着只有在发起调用的时候才会创建客户端。</p><p><img src="/images/ribbon/13569.png" alt="img"></p><h2 id="配置" tabindex="-1"><a class="header-anchor" href="#配置" aria-hidden="true">#</a> 配置</h2><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">server</span><span class="token punctuation">:</span>\n  <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">8010</span>\n<span class="token key atrule">spring</span><span class="token punctuation">:</span>\n  <span class="token key atrule">application</span><span class="token punctuation">:</span>\n    <span class="token key atrule">name</span><span class="token punctuation">:</span> mall<span class="token punctuation">-</span>user\n  <span class="token key atrule">cloud</span><span class="token punctuation">:</span>\n    <span class="token key atrule">nacos</span><span class="token punctuation">:</span>\n      <span class="token key atrule">server-addr</span><span class="token punctuation">:</span> http<span class="token punctuation">:</span>//192.168.88.1<span class="token punctuation">:</span><span class="token number">8848</span>\n      <span class="token key atrule">discovery</span><span class="token punctuation">:</span>\n        <span class="token key atrule">cluster-name</span><span class="token punctuation">:</span> BJ\n\n<span class="token key atrule">mall-order</span><span class="token punctuation">:</span>\n  <span class="token key atrule">ribbon</span><span class="token punctuation">:</span>\n    <span class="token key atrule">NFLoadBalancerRuleClassName</span><span class="token punctuation">:</span> com.alibaba.cloud.nacos.ribbon.NacosRule\n<span class="token key atrule">ribbon</span><span class="token punctuation">:</span>\n  <span class="token key atrule">eager-load</span><span class="token punctuation">:</span>\n    <span class="token comment"># 配置mall-user使用ribbon饥饿加载，多个使用逗号分隔</span>\n    <span class="token key atrule">clients</span><span class="token punctuation">:</span> mall<span class="token punctuation">-</span>order\n    <span class="token key atrule">enabled</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>  <span class="token comment"># 开启ribbon饥饿加载</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div>',6),p={},l=(0,s(66262).A)(p,[["render",function(n,a){return e}]])},66262:(n,a)=>{a.A=(n,a)=>{const s=n.__vccOpts||n;for(const[n,e]of a)s[n]=e;return s}}}]);
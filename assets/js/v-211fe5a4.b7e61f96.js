"use strict";(self.webpackChunkq10viking_github_io=self.webpackChunkq10viking_github_io||[]).push([[91023],{8608:(n,s,a)=>{a.r(s),a.d(s,{data:()=>e});const e={key:"v-211fe5a4",path:"/Nginx/01%20%E5%AE%89%E8%A3%85nginx.html",title:"",lang:"zh-CN",frontmatter:{sidebarDepth:3,sidebar:"auto",prev:{text:"Back To 目录",link:"/Nginx/"},"typora-root-url":"..\\.vuepress\\public"},excerpt:"",headers:[{level:2,title:"windows安装",slug:"windows安装",children:[{level:3,title:"启动nginx",slug:"启动nginx",children:[]},{level:3,title:"验证生效",slug:"验证生效",children:[]},{level:3,title:"关闭nginx",slug:"关闭nginx",children:[]}]},{level:2,title:"Linux安装Nginx",slug:"linux安装nginx",children:[{level:3,title:"相关环境工具安装",slug:"相关环境工具安装",children:[]},{level:3,title:"编译安装nginx",slug:"编译安装nginx",children:[]},{level:3,title:"启动❤️",slug:"启动❤️",children:[]},{level:3,title:"验证生效",slug:"验证生效-1",children:[]},{level:3,title:"nginx常用命令❤️",slug:"nginx常用命令❤️",children:[]}]},{level:2,title:"Nginx请求默认页面分析",slug:"nginx请求默认页面分析",children:[]}],filePathRelative:"Nginx/01 安装nginx.md"}},64737:(n,s,a)=>{a.r(s),a.d(s,{default:()=>i});var e=a(20641);const p=(0,e.Fv)('<h2 id="windows安装" tabindex="-1"><a class="header-anchor" href="#windows安装" aria-hidden="true">#</a> windows安装</h2><div class="custom-container tip"><p class="custom-container-title">TIP</p><p>在windows上安装，方便测试</p></div><h3 id="启动nginx" tabindex="-1"><a class="header-anchor" href="#启动nginx" aria-hidden="true">#</a> 启动nginx</h3>',3),t={href:"http://nginx.org/en/download.html",target:"_blank",rel:"noopener noreferrer"},l=(0,e.Fv)('<p>点击执行的<code>nginx.exe</code>运行或者输入<code>start nginx</code></p><p><img src="/images/nginx/image-20220809190619569.png" alt="image-20220809190619569"></p><h3 id="验证生效" tabindex="-1"><a class="header-anchor" href="#验证生效" aria-hidden="true">#</a> 验证生效</h3><h4 id="浏览器访问" tabindex="-1"><a class="header-anchor" href="#浏览器访问" aria-hidden="true">#</a> 浏览器访问</h4><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>访问： \nlocalhost:80\nlocalhost\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><img src="/images/nginx/image-20220809190451631.png" alt="image-20220809190451631"></p><h4 id="命令行验证" tabindex="-1"><a class="header-anchor" href="#命令行验证" aria-hidden="true">#</a> 命令行验证</h4><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>PS E:<span class="token punctuation">\\</span>nginx<span class="token punctuation">\\</span>nginx-1.22.<span class="token operator"><span class="token file-descriptor important">0</span>&gt;</span> tasklist /fi <span class="token string">&quot;imagename eq nginx.exe&quot;</span>\n\n映像名称                       PID 会话名              会话<span class="token comment">#       内存使用</span>\n<span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">=</span> <span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span> <span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span> <span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">=</span> <span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span>\nnginx.exe                    <span class="token number">12020</span> Console                    <span class="token number">4</span>      <span class="token number">9,248</span> K\nnginx.exe                     <span class="token number">7608</span> Console                    <span class="token number">4</span>      <span class="token number">9,580</span> K\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="关闭nginx" tabindex="-1"><a class="header-anchor" href="#关闭nginx" aria-hidden="true">#</a> 关闭nginx</h3><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>taskkill /f /t /im nginx.exe\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><h2 id="linux安装nginx" tabindex="-1"><a class="header-anchor" href="#linux安装nginx" aria-hidden="true">#</a> Linux安装Nginx</h2><div class="custom-container tip"><p class="custom-container-title">TIP</p><p>目前只有在192.168.187.135机器下安装</p><p>编译源码的方式安装</p></div><h3 id="相关环境工具安装" tabindex="-1"><a class="header-anchor" href="#相关环境工具安装" aria-hidden="true">#</a> 相关环境工具安装</h3><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># 安装gcc环境</span>\nyum <span class="token function">install</span> gcc-c++\n<span class="token comment"># 安装PCRE,用于解析正则表达式</span>\nyum <span class="token function">install</span> <span class="token parameter variable">-y</span> pcre pcre-devel\n<span class="token comment"># zlib压缩与解压缩</span>\nyum <span class="token function">install</span> <span class="token parameter variable">-y</span> zlib zlib-devel\n<span class="token comment">#SSL安全加密套接字协议层，即https</span>\n\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="编译安装nginx" tabindex="-1"><a class="header-anchor" href="#编译安装nginx" aria-hidden="true">#</a> 编译安装nginx</h3><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>\n<span class="token comment"># 将nginx-1.16.1.tar.gz放到/usr/nginx目录下</span>\n<span class="token comment"># 解压</span>\n<span class="token function">tar</span> <span class="token parameter variable">-zxvf</span> nginx-1.16.1.tar.gz\n<span class="token comment"># 创建nginx临时目录</span>\n<span class="token function">mkdir</span> /var/temp/nginx <span class="token parameter variable">-p</span>\n<span class="token comment"># 进入到解压的nginx目录</span>\n<span class="token builtin class-name">cd</span> nginx-1.16.1\n<span class="token comment"># 在解压的nginx目录下输入命令，创建Makefile</span>\n\n./configure <span class="token punctuation">\\</span>\n<span class="token parameter variable">--prefix</span><span class="token operator">=</span>/usr/nginx <span class="token punctuation">\\</span>\n--pid-path<span class="token operator">=</span>/var/run/nginx/nginx.pid <span class="token punctuation">\\</span>\n--lock-path<span class="token operator">=</span>/var/lock/nginx.lock <span class="token punctuation">\\</span>\n--error-log-path<span class="token operator">=</span>/var/log/nginx/error.log <span class="token punctuation">\\</span>\n--http-log-path<span class="token operator">=</span>/var/log/nginx/access.log <span class="token punctuation">\\</span>\n--with-http_gzip_static_module <span class="token punctuation">\\</span>\n--http-client-body-temp-path<span class="token operator">=</span>/var/temp/nginx/client <span class="token punctuation">\\</span>\n--http-proxy-temp-path<span class="token operator">=</span>/var/temp/nginx/proxy <span class="token punctuation">\\</span>\n--http-fastcgi-temp-path<span class="token operator">=</span>/var/temp/nginx/fastcgi <span class="token punctuation">\\</span>\n--http-uwsgi-temp-path<span class="token operator">=</span>/var/temp/nginx/uwsgi <span class="token punctuation">\\</span>\n--http-scgi-temp-path<span class="token operator">=</span>/var/temp/nginx/scgi\n\n<span class="token comment"># make编译</span>\n<span class="token function">make</span>\n\n<span class="token comment">#安装</span>\n<span class="token function">make</span> <span class="token function">install</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br></div></div><p><img src="/images/nginx/image-20210313121126138.png" alt=""></p><h3 id="启动❤️" tabindex="-1"><a class="header-anchor" href="#启动❤️" aria-hidden="true">#</a> 启动❤️</h3><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># 进入</span>\n<span class="token builtin class-name">cd</span> /usr/nginx/sbin\n<span class="token comment"># 启动</span>\n./nginx\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="验证生效-1" tabindex="-1"><a class="header-anchor" href="#验证生效-1" aria-hidden="true">#</a> 验证生效</h3><p>查看80端口<code>netstat -nltp</code></p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost sbin<span class="token punctuation">]</span><span class="token comment"># netstat -nltp | grep nginx</span>\ntcp        <span class="token number">0</span>      <span class="token number">0</span> <span class="token number">0.0</span>.0.0:80              <span class="token number">0.0</span>.0.0:*               LISTEN      <span class="token number">4381</span>/nginx: master\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>网页版测试</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>http://192.168.187.135/\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p><img src="/images/nginx/image-20220810010842303.png" alt="image-20220810010842303"></p><h3 id="nginx常用命令❤️" tabindex="-1"><a class="header-anchor" href="#nginx常用命令❤️" aria-hidden="true">#</a> nginx常用命令❤️</h3><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>./nginx <span class="token parameter variable">-s</span> stop\t\t<span class="token comment">#\t暴力关闭nginx，不管有没有用户正在进行请求</span>\n./nginx <span class="token parameter variable">-s</span> quit\t\t<span class="token comment">#\t没有用户请求时，才关闭</span>\n./nginx <span class="token parameter variable">-s</span> reload\t<span class="token comment">#\t重启nginx 当修改配置文件后，需要重启生效❤️⭐</span>\n./nginx <span class="token parameter variable">-t</span>\t<span class="token comment">#\t检测nginx配置是否有效</span>\n./nginx <span class="token parameter variable">-v</span>\t<span class="token comment">#\t查看版本</span>\n./nginx <span class="token parameter variable">-V</span>  <span class="token comment">#\t查看详细信息包括安装时指定设置的日志目录</span>\n./nginx <span class="token parameter variable">-c</span>  filename\t<span class="token comment">#   手动切换nginx配置文件</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h2 id="nginx请求默认页面分析" tabindex="-1"><a class="header-anchor" href="#nginx请求默认页面分析" aria-hidden="true">#</a> Nginx请求默认页面分析</h2><ol><li><p><code>nginx/conf/nginx.conf</code></p><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code>server <span class="token punctuation">{</span>\n        listen       <span class="token number">80</span><span class="token punctuation">;</span>\n        server_name  localhost<span class="token punctuation">;</span>\n\n        location <span class="token operator">/</span> <span class="token punctuation">{</span>\n            root   html<span class="token punctuation">;</span>\n            index  index<span class="token punctuation">.</span>html index<span class="token punctuation">.</span>htm<span class="token punctuation">;</span>\n        <span class="token punctuation">}</span>\n        error_page   <span class="token number">500</span> <span class="token number">502</span> <span class="token number">503</span> <span class="token number">504</span>  <span class="token operator">/</span><span class="token number">50</span>x<span class="token punctuation">.</span>html<span class="token punctuation">;</span>\n        location <span class="token operator">=</span> <span class="token operator">/</span><span class="token number">50</span>x<span class="token punctuation">.</span>html <span class="token punctuation">{</span>\n            root   html<span class="token punctuation">;</span>\n        <span class="token punctuation">}</span>\n <span class="token punctuation">}</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div></li></ol><p><img src="/images/nginx/image-20210313122955103.png" alt=""></p>',30),r={},i=(0,a(66262).A)(r,[["render",function(n,s){const a=(0,e.g2)("OutboundLink");return(0,e.uX)(),(0,e.CE)(e.FK,null,[p,(0,e.Lk)("p",null,[(0,e.Lk)("a",t,[(0,e.eW)("nginx: download"),(0,e.bF)(a)]),(0,e.eW)("直接下载压缩包，然后解压到指定的目录")]),l],64)}]])},66262:(n,s)=>{s.A=(n,s)=>{const a=n.__vccOpts||n;for(const[n,e]of s)a[n]=e;return a}}}]);
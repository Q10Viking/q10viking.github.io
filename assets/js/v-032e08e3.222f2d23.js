"use strict";(self.webpackChunkq10viking_github_io=self.webpackChunkq10viking_github_io||[]).push([[43828],{3881:(e,i,a)=>{a.r(i),a.d(i,{data:()=>r});const r={key:"v-032e08e3",path:"/win11/14%20windows%E6%8F%90%E4%BE%9B%E7%BD%91%E7%BB%9C%E7%BB%99android.html",title:"",lang:"zh-CN",frontmatter:{sidebarDepth:3,sidebar:"auto",prev:{text:"Back To 目录",link:"/win11/"},"typora-root-url":"..\\.vuepress\\public"},excerpt:"",headers:[{level:2,title:"windows提供网络给安卓",slug:"windows提供网络给安卓",children:[]},{level:2,title:"安卓成功联网",slug:"安卓成功联网",children:[]},{level:2,title:"wireshark进行抓包PC虎牙直播端",slug:"wireshark进行抓包pc虎牙直播端",children:[{level:3,title:"小结",slug:"小结",children:[]},{level:3,title:"wireshark抓包虎牙手机端",slug:"wireshark抓包虎牙手机端",children:[]},{level:3,title:"fiddle抓包虎牙手机端",slug:"fiddle抓包虎牙手机端",children:[]}]}],filePathRelative:"win11/14 windows提供网络给android.md"}},81588:(e,i,a)=>{a.r(i),a.d(i,{default:()=>h});var r=a(20641);const l=(0,r.Lk)("h2",{id:"windows提供网络给安卓",tabindex:"-1"},[(0,r.Lk)("a",{class:"header-anchor",href:"#windows提供网络给安卓","aria-hidden":"true"},"#"),(0,r.eW)(" windows提供网络给安卓")],-1),t={href:"https://github.com/Genymobile/gnirehtet",target:"_blank",rel:"noopener noreferrer"},n=(0,r.Lk)("li",null,[(0,r.Lk)("p",null,"下载https://dl.google.com/android/repository/platform-tools-latest-windows.zip 进行解压，解压后全部复制到gnirehtet解压的目录")],-1),s=(0,r.Fv)('<p><img src="/images/win11/image-20240401022100443.png" alt="image-20240401022100443"></p><h2 id="安卓成功联网" tabindex="-1"><a class="header-anchor" href="#安卓成功联网" aria-hidden="true">#</a> 安卓成功联网</h2><p>经测试使用虎牙的2k HDR都没有问题。</p><p><img src="/images/win11/image-20240401022342171.png" alt="image-20240401022342171"></p><h2 id="wireshark进行抓包pc虎牙直播端" tabindex="-1"><a class="header-anchor" href="#wireshark进行抓包pc虎牙直播端" aria-hidden="true">#</a> wireshark进行抓包PC虎牙直播端</h2><ol><li>使用wireshark进行抓包虎牙直播，获取推流,首先需要开启直播，用wireshark获取到推流地址。</li></ol><p><img src="/images/win11/image-20240401132947134.png" alt="image-20240401132947134"></p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>rtmp://111.23.9.58/tx.direct.huya.com/huyalive\n2306934046-2306934046-9908206281598959616-4613991548-10057-A-0-1?streamcode=eJxdUMluq0AA%2BxsuEdKwM4ccBphszUyAJhB6qSihLEOAsBSYr39R3zv01QfLtiwfXBVfaXFbA2F8sqwAHSoqUHUh%2Bd%2F2v3zcts9AAkAzhH7o0vhex%2Ff0R0P8ISEEpgx02ZQ0aEIN6pIuqrqkQChpqil%2Br4hIBKIkDEXC0mGtes4nQthBT%2Byy0Co89BenPt8eihPyPETPaKK5hyJ%2ByEm4n6OScXrHMjknE3WskpwRRs5lIk5cILT3Q9xYNK9WwWrevmoTB3O93KjzgsvhwMd%2B6D2n%2FOqOdb%2FPDSWeu4tbcbYvg5jdP94qY3i5Bl3LlA14HPvcAQbheLQaDtmWWbtUwvN2jG%2FLMgfH81HZ%2BO0htTeukQ%2B1HMHpdTVaVB5t3c9IkDXWaVL6mbr5J4%2FswF%2BCufcIpqn%2FqElgXk%2FEeoPcHd3MD3aV8Vgxeg0jwi6VbWlh1zSJYSf4atAw%2B35lLeTjEr%2F%2FO08SPgo%2BLG26Bn8AIbuVRg%3D%3D&amp;huya_ticket=1&amp;anchor_rank=0&amp;appid=66&amp;muid=4613881655&amp;room=2306934046&amp;seq=1711948707002&amp;streamseq=1711948707002&amp;uacode=H4sIAAAAAAAAAytIjk%2BtSI0vSc0tyEksSVUzNTQytjAwUstPS8tMzkzMAQBkvRMgIAAAAA%3D%3D&amp;&amp;gameid=2771&amp;liveid=7352763700591466466&amp;codec=264\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ol start="2"><li>获取到推流地址之后,我们需要退出这个应用，保持开播的状态，但是退出这个pc上的虎牙直播就需要停播，停播了就不能再使用obs进行推流，所以我只能使用第三方推流。</li></ol><p><img src="/images/win11/image-20240401213419669.png" alt="image-20240401213419669"></p><p>虎牙直播客户端抓包，然后使用开启第三方的直播推流，这个推流码是可以用的。</p><p><img src="/images/win11/image-20240401141917041.png" alt="image-20240401141917041"></p><p>测试效果，正常开播，推流成功了。</p><p><img src="/images/win11/image-20240401213914012.png" alt="image-20240401213914012"></p><h3 id="小结" tabindex="-1"><a class="header-anchor" href="#小结" aria-hidden="true">#</a> 小结</h3><ol><li>电脑PC端开播，首先使用wireshark抓取到推流码。得到推流码之后，使用第三方开发，这个推流码可以继续使用。但是多此一举，因为虎牙PC端本身就提供了推流码不用我们再次抓包获取。 <ol><li>经过测试，这个推流码不用每次都获取，可以直接使用。</li></ol></li><li>我们抓包的推流码不能用于手机端和网页端的开播。 <ol><li>网页端有现成的推流码</li><li>手机端我需要额外抓包，分析出推流地址。</li></ol></li></ol><h3 id="wireshark抓包虎牙手机端" tabindex="-1"><a class="header-anchor" href="#wireshark抓包虎牙手机端" aria-hidden="true">#</a> wireshark抓包虎牙手机端</h3><p>找到了手机端连接windows的wifi，通过ip我找到了对应的网卡接口，但是经过分析找不到rtmp的包。尝试了一下不知道是不是rtmp默认端口改了还是怎么回事，wireshark找到解析不了rtmpt包，我使用decode as也不行，解析出来时unknown(0x0).</p><p><img src="/images/win11/image-20240401144440581.png" alt="image-20240401144440581"></p><p><img src="/images/win11/image-20240401144545931.png" alt="image-20240401144545931"></p><h3 id="fiddle抓包虎牙手机端" tabindex="-1"><a class="header-anchor" href="#fiddle抓包虎牙手机端" aria-hidden="true">#</a> fiddle抓包虎牙手机端</h3>',21),d={},h=(0,a(66262).A)(d,[["render",function(e,i){const a=(0,r.g2)("OutboundLink");return(0,r.uX)(),(0,r.CE)(r.FK,null,[l,(0,r.Lk)("ol",null,[(0,r.Lk)("li",null,[(0,r.Lk)("p",null,[(0,r.eW)("下载这个软件"),(0,r.Lk)("a",t,[(0,r.eW)("GitHub - Genymobile/gnirehtet: Gnirehtet provides reverse tethering for Android"),(0,r.bF)(a)]),(0,r.eW)("进行解压")])]),n]),s],64)}]])},66262:(e,i)=>{i.A=(e,i)=>{const a=e.__vccOpts||e;for(const[e,r]of i)a[e]=r;return a}}}]);
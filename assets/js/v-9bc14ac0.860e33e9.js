"use strict";(self.webpackChunkq10viking_github_io=self.webpackChunkq10viking_github_io||[]).push([[2617],{91612:(e,i,l)=>{l.r(i),l.d(i,{data:()=>t});const t={key:"v-9bc14ac0",path:"/nacos/03%20nacos%E6%B3%A8%E5%86%8C%E4%B8%AD%E5%BF%83.html",title:"",lang:"zh-CN",frontmatter:{sidebarDepth:3,sidebar:"auto",prev:{text:"Back To 目录",link:"/nacos/"},"typora-root-url":"..\\.vuepress\\public"},excerpt:"",headers:[{level:2,title:"注册中心演变",slug:"注册中心演变",children:[]},{level:2,title:"注册中心架构",slug:"注册中心架构",children:[]},{level:2,title:"注册中心的设计",slug:"注册中心的设计",children:[]}],filePathRelative:"nacos/03 nacos注册中心.md"}},91322:(e,i,l)=>{l.r(i),l.d(i,{default:()=>r});const t=(0,l(20641).Fv)('<h2 id="注册中心演变" tabindex="-1"><a class="header-anchor" href="#注册中心演变" aria-hidden="true">#</a> 注册中心演变</h2><p><img src="/images/nacos/16490.png" alt="img"></p><h2 id="注册中心架构" tabindex="-1"><a class="header-anchor" href="#注册中心架构" aria-hidden="true">#</a> 注册中心架构</h2><p><img src="/images/nacos/16570.png" alt="img"></p><h2 id="注册中心的设计" tabindex="-1"><a class="header-anchor" href="#注册中心的设计" aria-hidden="true">#</a> 注册中心的设计</h2><ol><li>心跳（<strong>服务续约</strong>）：客户端向服务端定时发送心跳，服务端接收到心跳后，修改<strong>服务的续约时间</strong><ol><li>客户端定时发送心跳，如lastRegistryTime: 9:00 15s; 9:15 15s;</li><li>服务端进行服务检查进行服务剔除 <ol><li>currentTime-lastRegistryTime&gt;15s 修改存活状态 down</li><li>currentTime-lastRegistryTime&gt;30s delete 考虑到网络抖动，<strong>进行的阈值保护</strong></li></ol></li></ol></li></ol><p><img src="/images/nacos/image-20210720142431892.png" alt="image-20210720142431892"></p><ol start="2"><li>注册instance <ol><li>临时节点存储在内存</li><li>持久化节点</li></ol></li><li>配置数据存储到 derby,mysql</li></ol>',8),a={},r=(0,l(66262).A)(a,[["render",function(e,i){return t}]])},66262:(e,i)=>{i.A=(e,i)=>{const l=e.__vccOpts||e;for(const[e,t]of i)l[e]=t;return l}}}]);
"use strict";(self.webpackChunkq10viking_github_io=self.webpackChunkq10viking_github_io||[]).push([[46366],{45211:(n,s,a)=>{a.r(s),a.d(s,{data:()=>e});const e={key:"v-2891917a",path:"/cloudnative/02%20Docker%E5%AE%89%E8%A3%85.html",title:"",lang:"zh-CN",frontmatter:{sidebarDepth:3,sidebar:"auto",prev:{text:"Back To 目录",link:"/cloudnative/"},"typora-root-url":"..\\.vuepress\\public"},excerpt:"",headers:[{level:2,title:"准备工作",slug:"准备工作",children:[]},{level:2,title:"安装docker",slug:"安装docker",children:[]},{level:2,title:"启动Docker",slug:"启动docker",children:[]},{level:2,title:"配置docke镜像加速器",slug:"配置docke镜像加速器",children:[]},{level:2,title:"卸载docker",slug:"卸载docker",children:[]}],filePathRelative:"cloudnative/02 Docker安装.md"}},93382:(n,s,a)=>{a.r(s),a.d(s,{default:()=>o});var e=a(20641);const r={class:"custom-container tip"},l=(0,e.Lk)("p",{class:"custom-container-title"},"TIP",-1),c={href:"https://docs.docker.com/engine/install/centos/",target:"_blank",rel:"noopener noreferrer"},p=(0,e.Lk)("p",null,"以下操作在本地虚拟机centos7 192.168.187.132 操作",-1),i=(0,e.Fv)('<h2 id="准备工作" tabindex="-1"><a class="header-anchor" href="#准备工作" aria-hidden="true">#</a> 准备工作</h2><div class="custom-container tip"><p class="custom-container-title">TIP</p><p>1️⃣ 社区版（Community Edition，缩写为 CE）</p><p>2️⃣ 企业版（Enterprise Edition，缩写为 EE）</p></div><p>确保 yum 包更新到最新</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>yum <span class="token parameter variable">-y</span> update\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>安装相关工具</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>yum <span class="token function">install</span> <span class="token parameter variable">-y</span> yum-utils\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>设置yum源，并更新 yum 的包索引</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># 官方的yum源</span>\nyum-config-manager --add-repo https://download.docker.com/linux/centos/docker-ce.repo\n<span class="token comment"># 这里使用阿里的云源，来加快访问速度</span>\nyum-config-manager --add-repo http://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo\nyum makecache fast\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>查看所有仓库中所有docker版本，并选择特定版本安装</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>yum list docker-ce --showduplicates | sort -r\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p><img src="/images/cloudnative/202112151722103.jpg" alt="202112151722103"></p><h2 id="安装docker" tabindex="-1"><a class="header-anchor" href="#安装docker" aria-hidden="true">#</a> 安装docker</h2><div class="custom-container tip"><p class="custom-container-title">TIP</p><p>用指定版本的方式安装</p></div><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>yum <span class="token function">install</span> <span class="token parameter variable">-y</span> docker-ce-3:19.03.9-3.el7.x86_64\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><h2 id="启动docker" tabindex="-1"><a class="header-anchor" href="#启动docker" aria-hidden="true">#</a> 启动Docker</h2><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>systemctl start <span class="token function">docker</span>\n<span class="token comment"># 加入开机启动</span>\nsystemctl <span class="token builtin class-name">enable</span> <span class="token function">docker</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>验证安装是否成功(有client和service两部分表示docker安装启动都成功了)</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">docker</span> version\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><details class="custom-container details"><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># docker version</span>\nClient: Docker Engine - Community\n Version:           <span class="token number">20.10</span>.12\n API version:       <span class="token number">1.40</span>\n Go version:        go1.16.12\n Git commit:        e91ed57\n Built:             Mon Dec <span class="token number">13</span> <span class="token number">11</span>:45:41 <span class="token number">2021</span>\n OS/Arch:           linux/amd64\n Context:           default\n Experimental:      <span class="token boolean">true</span>\n\nServer: Docker Engine - Community\n Engine:\n  Version:          <span class="token number">19.03</span>.9\n  API version:      <span class="token number">1.40</span> <span class="token punctuation">(</span>minimum version <span class="token number">1.12</span><span class="token punctuation">)</span>\n  Go version:       go1.13.10\n  Git commit:       9d988398e7\n  Built:            Fri May <span class="token number">15</span> 00:24:05 <span class="token number">2020</span>\n  OS/Arch:          linux/amd64\n  Experimental:     <span class="token boolean">false</span>\n containerd:\n  Version:          <span class="token number">1.4</span>.12\n  GitCommit:        7b11cfaabd73bb80907dd23182b9347b4245eb5d\n runc:\n  Version:          <span class="token number">1.0</span>.2\n  GitCommit:        v1.0.2-0-g52b36a2\n docker-init:\n  Version:          <span class="token number">0.18</span>.0\n  GitCommit:        fec3683\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div></details><h2 id="配置docke镜像加速器" tabindex="-1"><a class="header-anchor" href="#配置docke镜像加速器" aria-hidden="true">#</a> 配置docke镜像加速器</h2><div class="custom-container tip"><p class="custom-container-title">TIP</p><p>借助阿里云的镜像加速器，登录阿里云(https://cr.console.aliyun.com/#/accelerator)</p></div><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">mkdir</span> <span class="token parameter variable">-p</span> /etc/docker\n<span class="token function">sudo</span> <span class="token function">tee</span> /etc/docker/daemon.json <span class="token operator">&lt;&lt;-</span><span class="token string">&#39;EOF&#39;\n{\n  &quot;registry-mirrors&quot;: [&quot;https://u8x09gus.mirror.aliyuncs.com&quot;]\n}\nEOF</span>\n<span class="token function">sudo</span> systemctl daemon-reload\n<span class="token function">sudo</span> systemctl restart <span class="token function">docker</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p><img src="/images/cloudnative/202112151759200.jpg" alt="202112151759200"></p><h2 id="卸载docker" tabindex="-1"><a class="header-anchor" href="#卸载docker" aria-hidden="true">#</a> 卸载docker</h2><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>yum remove <span class="token parameter variable">-y</span> docker*\n<span class="token function">rm</span> <span class="token parameter variable">-rf</span> /etc/systemd/system/docker.service.d\n<span class="token function">rm</span> <span class="token parameter variable">-rf</span> /var/lib/docker\n<span class="token function">rm</span> <span class="token parameter variable">-rf</span> /var/run/docker\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div>',25),t={},o=(0,a(66262).A)(t,[["render",function(n,s){const a=(0,e.g2)("OutboundLink");return(0,e.uX)(),(0,e.CE)(e.FK,null,[(0,e.Lk)("div",r,[l,(0,e.Lk)("p",null,[(0,e.Lk)("a",c,[(0,e.eW)("Install Docker Engine on CentOS | Docker Documentation"),(0,e.bF)(a)])]),p]),i],64)}]])},66262:(n,s)=>{s.A=(n,s)=>{const a=n.__vccOpts||n;for(const[n,e]of s)a[n]=e;return a}}}]);
"use strict";(self.webpackChunkq10viking_github_io=self.webpackChunkq10viking_github_io||[]).push([[38008],{93804:(e,i,r)=>{r.r(i),r.d(i,{data:()=>l});const l={key:"v-71914613",path:"/zk/06%20acl%E6%9D%83%E9%99%90%E6%8E%A7%E5%88%B6.html",title:"",lang:"zh-CN",frontmatter:{sidebarDepth:3,sidebar:"auto",prev:{text:"Back To 目录",link:"/zk/"},"typora-root-url":"..\\.vuepress\\public"},excerpt:"",headers:[{level:2,title:"Scheme（权限模式）",slug:"scheme-权限模式",children:[]},{level:2,title:"授权对象（ID）",slug:"授权对象-id",children:[]},{level:2,title:"权限信息（Permission）",slug:"权限信息-permission",children:[]}],filePathRelative:"zk/06 acl权限控制.md"}},77234:(e,i,r)=>{r.r(i),r.d(i,{default:()=>s});const l=(0,r(20641).Fv)('<p>Zookeeper 的ACL 权限控制,可以控制节点的读写操作,保证数据的安全性，Zookeeper ACL 权限设置分为 3 部分组成，分别是：<strong>权限模式</strong>（Scheme）、<strong>授权对象</strong>（ID）、<strong>权限信息</strong>（Permission）。最终组成一条例如“scheme🆔permission”格式的 ACL 请求信息。</p><h2 id="scheme-权限模式" tabindex="-1"><a class="header-anchor" href="#scheme-权限模式" aria-hidden="true">#</a> Scheme（权限模式）</h2><p>用来设置 ZooKeeper 服务器进行权限验证的方式。ZooKeeper 的权限验证方式大体分为两种类型：</p><ol><li>一种是<strong>范围验证</strong>。所谓的范围验证就是说 ZooKeeper 可以针对一个 IP 或者一段 IP 地址授予某种权限。比如我们可以让一个 IP 地址为“ip：192.168.0.110”的机器对服务器上的某个数据节点具有写入的权限。或者也可以通过“ip:192.168.0.1/24”给一段 IP 地址的机器赋权。</li><li>另一种权限模式就是<strong>口令验证</strong>，也可以理解为用户名密码的方式。在 ZooKeeper 中这种验证方式是 Digest 认证，而 Digest 这种认证方式首先在客户端传送“username:password”这种形式的权限表示符后，ZooKeeper 服务端会对密码 部分使用 SHA-1 和 BASE64 算法进行加密，以保证安全性。 <ol><li>还有一种Super权限模式, Super可以认为是一种特殊的 Digest 认证。具有 Super 权限的客户端可以对 ZooKeeper 上的任意数据节点进行任意操作。</li></ol></li></ol><h2 id="授权对象-id" tabindex="-1"><a class="header-anchor" href="#授权对象-id" aria-hidden="true">#</a> 授权对象（ID）</h2><p>授权对象就是说我们要把权限赋予谁，而对应于 4 种不同的权限模式来说，</p><ol><li>如果我们选择采用 IP 方式，使用的授权对象可以是一个 IP 地址或 IP 地址段；</li><li>而如果使用 Digest 或 Super 方式，则对应于一个用户名。</li><li>如果是 World 模式，是授权系统中所有的用户。</li></ol><h2 id="权限信息-permission" tabindex="-1"><a class="header-anchor" href="#权限信息-permission" aria-hidden="true">#</a> 权限信息（Permission）</h2><p>权限就是指我们可以在数据节点上执行的操作种类，如下所示：在 ZooKeeper 中已经定义好的权限有 5 种：</p><ol><li>数据节点（c: create）创建权限，授予权限的对象可以在数据节点下创建子节点；</li><li>数据节点（w: wirte）更新权限，授予权限的对象可以更新该数据节点；</li><li>数据节点（r: read）读取权限，授予权限的对象可以读取该节点的内容以及子节点的列表信息；</li><li>数据节点（d: delete）删除权限，授予权限的对象可以删除该数据节点的子节点；</li><li>数据节点（a: admin）管理者权限，授予权限的对象可以对该数据节点体进行 ACL 权限设置。</li></ol>',10),o={},s=(0,r(66262).A)(o,[["render",function(e,i){return l}]])},66262:(e,i)=>{i.A=(e,i)=>{const r=e.__vccOpts||e;for(const[e,l]of i)r[e]=l;return r}}}]);
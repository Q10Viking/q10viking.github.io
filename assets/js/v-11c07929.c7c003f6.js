"use strict";(self.webpackChunkq10viking_github_io=self.webpackChunkq10viking_github_io||[]).push([[94568],{42068:(a,n,s)=>{s.r(n),s.d(n,{data:()=>e});const e={key:"v-11c07929",path:"/SpringCloud/02%20%E9%A1%B9%E7%9B%AE%E4%B8%AD%E5%BC%95%E5%85%A5nacos%E6%9C%8D%E5%8A%A1%E6%B3%A8%E5%86%8C%E4%B8%8E%E5%8F%91%E7%8E%B0.html",title:"",lang:"zh-CN",frontmatter:{sidebarDepth:3,sidebar:"auto",prev:{text:"Back To 目录",link:"/SpringCloud/"},"typora-root-url":"..\\.vuepress\\public"},excerpt:"",headers:[{level:2,title:"介绍",slug:"介绍",children:[]},{level:2,title:"部署nacos",slug:"部署nacos",children:[]},{level:2,title:"项目中引入nacos客户端",slug:"项目中引入nacos客户端",children:[{level:3,title:"服务注册",slug:"服务注册",children:[]}]}],filePathRelative:"SpringCloud/02 项目中引入nacos服务注册与发现.md"}},15964:(a,n,s)=>{s.r(n),s.d(n,{default:()=>c});var e=s(20641);const t={href:"https://github.com/Q10Viking/springcloudalibaba/tree/main/02-learn-spring-cloud-alibaba",target:"_blank",rel:"noopener noreferrer"},l=(0,e.Fv)('<h2 id="介绍" tabindex="-1"><a class="header-anchor" href="#介绍" aria-hidden="true">#</a> 介绍</h2><p>项目中要想引入nacos,有两个步骤</p><ol><li>要部署nacos服务</li><li>项目中引入nacos的客户端，以便于注册中心nacos通信</li></ol><h2 id="部署nacos" tabindex="-1"><a class="header-anchor" href="#部署nacos" aria-hidden="true">#</a> 部署nacos</h2><p>部署nacos看nacos注册中心章节，本文主要讲解项目中如何引入nacos客户端</p><p>为了开发学习，主要是在windows部署了一个单机版的nacos注册中心</p><h2 id="项目中引入nacos客户端" tabindex="-1"><a class="header-anchor" href="#项目中引入nacos客户端" aria-hidden="true">#</a> 项目中引入nacos客户端</h2><h3 id="服务注册" tabindex="-1"><a class="header-anchor" href="#服务注册" aria-hidden="true">#</a> 服务注册</h3><p>以mall-user子项目为例子</p><h4 id="引入依赖" tabindex="-1"><a class="header-anchor" href="#引入依赖" aria-hidden="true">#</a> 引入依赖</h4><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token comment">&lt;!--   引入nacos-服务发现与注册     --&gt;</span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>com.alibaba.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-cloud-starter-alibaba-nacos-discovery<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h4 id="配置application-yml文件" tabindex="-1"><a class="header-anchor" href="#配置application-yml文件" aria-hidden="true">#</a> 配置application.yml文件</h4><ol><li>指定服务的名称</li><li>指定注册中心</li></ol><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">spring</span><span class="token punctuation">:</span>\n  <span class="token key atrule">application</span><span class="token punctuation">:</span>\n    <span class="token key atrule">name</span><span class="token punctuation">:</span> mall<span class="token punctuation">-</span>user\n  <span class="token key atrule">cloud</span><span class="token punctuation">:</span>\n    <span class="token key atrule">nacos</span><span class="token punctuation">:</span>\n      <span class="token key atrule">server-addr</span><span class="token punctuation">:</span> http<span class="token punctuation">:</span>//192.168.88.1<span class="token punctuation">:</span><span class="token number">8848</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>启动mall-user服务，可以看到日志</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>2021-08-21 20:42:20.410  INFO 40792 --- [           main] c.a.c.n.registry.NacosServiceRegistry    : nacos registry, DEFAULT_GROUP mall-user 192.168.88.1:8010 register finished\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>并且在nacos注册中心，能够看到mall-user已经注册进去了 http://192.168.88.1:8848/nacos</p><p><img src="/images/springcloud/image-20210821204436731.png" alt="image-20210821204436731"></p>',18),p={},c=(0,s(66262).A)(p,[["render",function(a,n){const s=(0,e.g2)("OutboundLink");return(0,e.uX)(),(0,e.CE)(e.FK,null,[(0,e.Lk)("p",null,[(0,e.Lk)("a",t,[(0,e.eW)("Source Code"),(0,e.bF)(s)])]),l],64)}]])},66262:(a,n)=>{n.A=(a,n)=>{const s=a.__vccOpts||a;for(const[a,e]of n)s[a]=e;return s}}}]);
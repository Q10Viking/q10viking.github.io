"use strict";(self.webpackChunkq10viking_github_io=self.webpackChunkq10viking_github_io||[]).push([[17325],{21294:(n,s,a)=>{a.r(s),a.d(s,{data:()=>e});const e={key:"v-edee17ca",path:"/Redis/10%20Set%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF.html",title:"",lang:"zh-CN",frontmatter:{sidebarDepth:3,sidebar:"auto",prev:{text:"Back To 目录",link:"/Redis/"},"typora-root-url":"..\\.vuepress\\public"},excerpt:"",headers:[{level:2,title:"微信抽奖小程序⭐",slug:"微信抽奖小程序⭐",children:[]},{level:2,title:"微信微博点赞，收藏，标签⭐",slug:"微信微博点赞-收藏-标签⭐",children:[]},{level:2,title:"微博微信关注模型⭐",slug:"微博微信关注模型⭐",children:[]},{level:2,title:"电商商品筛选",slug:"电商商品筛选",children:[]}],filePathRelative:"Redis/10 Set应用场景.md"}},8504:(n,s,a)=>{a.r(s),a.d(s,{default:()=>t});const e=(0,a(20641).Fv)('<h2 id="微信抽奖小程序⭐" tabindex="-1"><a class="header-anchor" href="#微信抽奖小程序⭐" aria-hidden="true">#</a> 微信抽奖小程序⭐</h2><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// 1）点击参与抽奖加入集合</span>\n<span class="token constant">SADD</span> key <span class="token punctuation">{</span>userlD<span class="token punctuation">}</span>\n<span class="token comment">// 2）查看参与抽奖所有用户</span>\n<span class="token constant">SMEMBERS</span> key\t  \n<span class="token comment">// 3）抽取count名中奖者</span>\n<span class="token constant">SRANDMEMBER</span> key <span class="token punctuation">[</span>count<span class="token punctuation">]</span>\n<span class="token constant">SPOP</span> key <span class="token punctuation">[</span>count<span class="token punctuation">]</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p><img src="/images/Redis/image-20211114061333406.png" alt=""></p><h2 id="微信微博点赞-收藏-标签⭐" tabindex="-1"><a class="header-anchor" href="#微信微博点赞-收藏-标签⭐" aria-hidden="true">#</a> 微信微博点赞，收藏，标签⭐</h2><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// 1) 点赞</span>\n<span class="token constant">SADD</span>  like<span class="token operator">:</span><span class="token punctuation">{</span>消息<span class="token constant">ID</span><span class="token punctuation">}</span>  <span class="token punctuation">{</span>用户<span class="token constant">ID</span><span class="token punctuation">}</span>\n<span class="token comment">// 2) 取消点赞</span>\n<span class="token constant">SREM</span> like<span class="token operator">:</span><span class="token punctuation">{</span>消息<span class="token constant">ID</span><span class="token punctuation">}</span>  <span class="token punctuation">{</span>用户<span class="token constant">ID</span><span class="token punctuation">}</span>\n<span class="token comment">// 3) 检查用户是否点过赞</span>\n<span class="token constant">SISMEMBER</span>  like<span class="token operator">:</span><span class="token punctuation">{</span>消息<span class="token constant">ID</span><span class="token punctuation">}</span>  <span class="token punctuation">{</span>用户<span class="token constant">ID</span><span class="token punctuation">}</span>\n<span class="token comment">// 4) 获取点赞的用户列表</span>\n<span class="token constant">SMEMBERS</span> like<span class="token operator">:</span><span class="token punctuation">{</span>消息<span class="token constant">ID</span><span class="token punctuation">}</span>\n<span class="token comment">// 5) 获取点赞用户数 </span>\n<span class="token constant">SCARD</span> like<span class="token operator">:</span><span class="token punctuation">{</span>消息<span class="token constant">ID</span><span class="token punctuation">}</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p><img src="/images/Redis/image-20211114061613473.png" alt=""></p><h2 id="微博微信关注模型⭐" tabindex="-1"><a class="header-anchor" href="#微博微信关注模型⭐" aria-hidden="true">#</a> 微博微信关注模型⭐</h2><p><img src="/images/Redis/image-20211114062143318.png" alt=""></p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// 1) 诸葛老师关注的人: </span>\nzhugeSet<span class="token operator">-&gt;</span> <span class="token punctuation">{</span>guojia<span class="token punctuation">,</span> xushu<span class="token punctuation">}</span>\n<span class="token comment">// 2) 杨过老师关注的人:</span>\nyangguoSet<span class="token operator">--</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>zhuge<span class="token punctuation">,</span> baiqi<span class="token punctuation">,</span> guojia<span class="token punctuation">,</span> xushu<span class="token punctuation">}</span>\n<span class="token comment">// 3) 郭嘉老师关注的人: </span>\nguojiaSet<span class="token operator">-&gt;</span> <span class="token punctuation">{</span>zhuge<span class="token punctuation">,</span> yangguo<span class="token punctuation">,</span> baiqi<span class="token punctuation">,</span> xushu<span class="token punctuation">,</span> xunyu<span class="token punctuation">)</span>\n<span class="token comment">// 4) 我和杨过老师共同关注: </span>\n<span class="token constant">SINTER</span> zhugeSet yangguoSet <span class="token operator">--</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>guojia<span class="token punctuation">,</span> xushu<span class="token punctuation">}</span>\n<span class="token comment">// 5) 我关注的人也关注他(杨过老师): </span>\n<span class="token constant">SISMEMBER</span> guojiaSet yangguo \n<span class="token constant">SISMEMBER</span> xushuSet yangguo\n<span class="token comment">// 6) 我可能认识的人: </span>\n<span class="token constant">SDIFF</span> yangguoSet zhugeSet <span class="token operator">-&gt;</span><span class="token punctuation">(</span>zhuge<span class="token punctuation">,</span> baiqi<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p><img src="/images/Redis/image-20211114062621754.png" alt=""></p><hr><h2 id="电商商品筛选" tabindex="-1"><a class="header-anchor" href="#电商商品筛选" aria-hidden="true">#</a> 电商商品筛选</h2><blockquote><p>筛选功能</p></blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>SADD  brand:huawei  P40\nSADD  brand:xiaomi  mi-10\nSADD  brand:iPhone iphone12\nSADD  os:android  P40  mi-10\nSADD  cpu:brand:intel  P40  mi-10\nSADD  ram:8G  P40  mi-10  iphone12\n\nSINTER  os:android  cpu:brand:intel  ram:8G -&gt;  {P40，mi-10}\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p><img src="/images/Redis/image-20211114062941688.png" alt=""></p>',15),p={},t=(0,a(66262).A)(p,[["render",function(n,s){return e}]])},66262:(n,s)=>{s.A=(n,s)=>{const a=n.__vccOpts||n;for(const[n,e]of s)a[n]=e;return a}}}]);
---
sidebarDepth: 3
sidebar: auto
prev:
  text: Back To 目录
  link: /Linux/
typora-root-url: ..\.vuepress\public
---



## 1. 下载centos7

[清华大学开源软件镜像站](https://mirrors.tuna.tsinghua.edu.cn/centos/7.9.2009/isos/x86_64/)

![image-20210312105631756](/images/linux/image-20210312105631756.png)

## 1. 启动网络

1. centos7默认未启动ifconfig,
   1. `vi /etc/sysconfig/network-scripts/ifcfg-ens33`，改成**`ONBOOT=yes`**；
   2. **`systemctl restart network`**重启网络



## 2. 安装ifconfig

centos7.2的mini版没有安装ifconfig

```
yum -y install net-tools
```



## 3. 安装防火墙服务

```shell
yum install iptables-services
```

## 4. 安装wget

```shell
yum install wget
```



## 5 修改网络IP地址

### 5.1 永久修改

1. `/etc/sysconfig/network-scripts/ifcfg-eth0`默认情况

```shell
[root@hzz ~]# cat /etc/sysconfig/network-scripts/ifcfg-eth0 
DEVICE=eth0
HWADDR=00:0C:29:EB:E0:4F
TYPE=Ethernet
UUID=04a6fb67-bc4a-4671-86d8-f3e3858afd18
ONBOOT=no
NM_CONTROLLED=yes
BOOTPROTO=dhcp
```

修改为静态的IP地址

```shell
[root@hzz ~]# vim /etc/sysconfig/network-scripts/ifcfg-eth0   
DEVICE=eth0   # 网卡设备名，设备名一定要跟文件名一致
HWADDR=00:0C:29:EB:E0:4F
TYPE=Ethernet   #网络类型为以太网
UUID=04a6fb67-bc4a-4671-86d8-f3e3858afd18  # 标识这台机器在局域网内的唯一ID,可以删除，因为在克隆虚拟机的时候，如果UUID相同，会出现问题
NM_CONTROLLED=yes
ONBOOT=yes	# 该网卡是否随网络服务启动
BOOTPROTO=static   # 静态分配IP
IPADDR=192.168.88.128     # 静态IP地址
NETMASK=255.255.255.0  # 子网掩码
GATEWAT=192.168.88.2  # 网关
```



此时能够ping通ip地址，但是还不能ping通ip地址

### 5.2 配置DNS服务

```sh
[root@localhost ~]# cat /etc/resolv.conf

# Generated by NetworkManager
nameserver 114.114.114.114
nameserver 223.5.5.5
nameserver 8.8.8.8
nameserver 8.8.4.4

```

### 5.3 **配置网络工作**

在/etc/sysconfig/network文件里增加如下配置

```sh
NETWORKING=yes # 网络是否工作，此处一定不能为no
```



## 6 克隆虚拟机

换另外一个ip地址

克隆前的地址

```sh
TYPE=Ethernet
PROXY_METHOD=none
BROWSER_ONLY=no
BOOTPROTO=static
DEFROUTE=yes
IPV4_FAILURE_FATAL=no
IPV6INIT=yes
IPV6_AUTOCONF=yes
IPV6_DEFROUTE=yes
IPV6_FAILURE_FATAL=no
IPV6_ADDR_GEN_MODE=stable-privacy
NAME=ens33
UUID=0b9b8791-b4e0-4b27-83ad-3944b5814661
DEVICE=ens33
ONBOOT=yes
IPADDR=192.168.187.135
NETMASK=255.255.255.0
GATEWAY=192.168.187.2

```

改为

```sh
# vim /etc/sysconfig/network-scripts/ifcfg-ens33
TYPE=Ethernet
PROXY_METHOD=none
BROWSER_ONLY=no
BOOTPROTO=static
DEFROUTE=yes
IPV4_FAILURE_FATAL=no
IPV6INIT=yes
IPV6_AUTOCONF=yes
IPV6_DEFROUTE=yes
IPV6_FAILURE_FATAL=no
IPV6_ADDR_GEN_MODE=stable-privacy
NAME=ens33
UUID=0b9b8791-b4e0-4b27-83ad-3944b5814661  # 删除
DEVICE=ens33
ONBOOT=yes
IPADDR=192.168.187.132   # 修改IP
NETMASK=255.255.255.0
GATEWAY=192.168.187.2
```



```
root
hzz
123456
```

## 6. vmware出现网络ping不同的情况修复⭐

### 服务打开

打开任务管理器，确保服务打开

![image-20211111051748509](/images/linux/image-20211111051748509.png)

### 网卡确定存在

![image-20220526190116304](/images/linux/image-20220526190116304.png)

解决方式：重新安装网卡

![image-20220526190910425](/images/linux/image-20220526190910425.png)

还原默认设置后记得修改网段

![image-20220806183559084](/images/linux/image-20220806183559084.png)

![image-20220526190939967](/images/linux/image-20220526190939967.png)

-----------------


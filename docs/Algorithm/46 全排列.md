---
sidebarDepth: 3
sidebar: auto
prev:
  text: Back To 目录
  link: /Algorithm/
typora-root-url: ..\.vuepress\public
---

::: tip

[46. 全排列](https://leetcode.cn/problems/permutations/)

:::



## 回溯算法

使用一个二外的空间进行标记使用过的元素

![image-20230921154706214](/images/algorithm/image-20230921154706214.png)

```java
public class Solution {
    public static void main(String[] args) {
        Solution solution = new Solution();
        solution.permute(
                new int[]{1,2,3}
        ).forEach(System.out::print);
    }

    public List<List<Integer>> permute(int[] nums) {
        List<List<Integer>> results = new ArrayList<>();
        // 标记使用的元素，记录下标
        int[] used = new int[nums.length];
        backtrack(nums,results,new ArrayList<>(nums.length),used);
        return results;
    }

    private void backtrack(int[] nums,List<List<Integer>> results,
                           List<Integer> path,int[] used){
        // 终止条件
        if(path.size() == nums.length){
            results.add(new ArrayList<>(path));
            return;
        }

        // 开始遍历回溯
        for (int i = 0; i < nums.length; i++) {
            if(used[i] == 1) continue;

            path.add(nums[i]);
            used[i] = 1;
            backtrack(nums,results,path,used);
            used[i] = 0;
            path.remove(path.size() - 1);
        }
    }
}
// [[1, 2, 3], [1, 3, 2], [2, 1, 3], [2, 3, 1], [3, 1, 2], [3, 2, 1]]
```


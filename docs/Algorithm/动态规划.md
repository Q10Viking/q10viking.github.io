---
sidebarDepth: 3
sidebar: auto
prev:
  text: Back To 目录
  link: /Algorithm/
typora-root-url: ..\.vuepress\public
---



## 旅游安排

::: tip

从旅游安排继续了解动态规划

:::

外出旅游到北京，准备在北京旅游3天，想去游览的地方很多，没法前往每个地方游览，因此列个单子

![image-20220815015755483](/images/algorithm/image-20220815015755483.png)

### 过程

![image-20220815020218514](/images/algorithm/image-20220815020218514.png)

![image-20220815020430593](/images/algorithm/image-20220815020430593.png)

![image-20220815020801844](/images/algorithm/image-20220815020801844.png)

虽然上图标出了从（故宫，2.5天）以及（颐和园，2.5天）都可以组成（八达岭长城，3天）的结果值，不过为了统一化处理，我们规定本行的结果值来自上一行，在上图中也就是（八达岭长城，3天）的结果来自它的上一行，也就是（颐和园，2.5天）

![image-20220815020847172](/images/algorithm/image-20220815020847172.png)

![image-20220815020945665](/images/algorithm/image-20220815020945665.png)

![image-20220815020957367](/images/algorithm/image-20220815020957367.png)

最终的结果及其路径：

![image-20220815021033972](/images/algorithm/image-20220815021033972.png)

可以看见，去游览天安门广场、颐和园、八达岭长城、天坛、恭王府是我们的最佳答案，刚好耗时3天，总得分36分

要注意，最优解是完全可能导致时间安排不满或者背包没装满的情况产生的，比如旅游计划里，还想去后海的酒吧来一场艳遇，内心评分50分，远远超过其他景点。但是需要的时间因为白天需要休息和打扮，晚上去通宵，所以估计的时间为2.8天。这种情况下，只能去后海的酒吧，余下的时间只有0.2天了，哪里也去不了了。



## 代码实现

::: tip

从上面的例子我们可以看到，我们把问题分解为多个阶段，每个阶段对应一个决策。我们记录每一个阶段可达的结果集合，然后通过当前阶段的结果集合，来推导下一个阶段的结果集合，动态地往前推进。这也是动态规划这个名字的由来。

:::
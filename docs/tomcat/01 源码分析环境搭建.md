## 下载Tomcat源码

::: tip

分析tomcat8的版本 [Apache Tomcat® - Apache Tomcat 8 Software Downloads](https://tomcat.apache.org/download-80.cgi)

:::

![image (1)](https://gitee.com/q10viking/PictureRepos/raw/master/images//202112040847487.jpg)

## 环境配置

::: tip

解压tomcat源码包

:::

### 创建实例文件夹

创建一个catalina-home文件夹，这个文件夹存放着真正运行的tomcat实例

![image (2)](https://gitee.com/q10viking/PictureRepos/raw/master/images//202112040901962.jpg)

### **拷贝文件及创建文件夹**

将解压的文件夹中的conf和webapps文件夹拷贝到实例文件夹中

![image (3)](https://gitee.com/q10viking/PictureRepos/raw/master/images//202112040909665.jpg)

在实例文件夹中接着创建lib、logs和temp文件夹（空的文件夹就可以了）

![image (4)](https://gitee.com/q10viking/PictureRepos/raw/master/images//202112040911163.jpg)

### 创建pom文件

::: tip

创建一个聚合工程，其中一个模块是tomcat的源码模块

:::

![image (5)](https://gitee.com/q10viking/PictureRepos/raw/master/images//202112040916084.jpg)

::: details 点击查看pom.xml

```xml {10-12}
<?xml version="1.0" encoding="UTF-8"?>
<project xmlns="http://maven.apache.org/POM/4.0.0"
         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
    <modelVersion>4.0.0</modelVersion>
    <groupId>org.apache.tomcat</groupId>
    <artifactId>Tomcat8.5.73</artifactId>
    <name>Tomcat8.5.73</name>
    <version>8.5</version>
	<modules>
		<module>apache-tomcat-8.5.73-src</module>
	</modules>
</project>
```

:::

::: tip

tomcat启动需要相关的依赖包，这里配置pom.xml文件，下载相应的jar包

::: 

![image (6)](https://gitee.com/q10viking/PictureRepos/raw/master/images//202112040924024.jpg)

::: details 点击查看pom.xml

```xml
<?xml version="1.0" encoding="UTF-8"?>
<project xmlns="http://maven.apache.org/POM/4.0.0"
         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
    <modelVersion>4.0.0</modelVersion>
    <groupId>org.apache.tomcat</groupId>
    <artifactId>Tomcat8.5.73</artifactId>
    <name>Tomcat8.5.73</name>
    <version>8.5</version>
	
	
	<dependencies>  
        <dependency>  
            <groupId>org.easymock</groupId>  
            <artifactId>easymock</artifactId>  
            <version>3.5</version>  
            <scope>test</scope>  
        </dependency>  
  
        <dependency>    
            <groupId>junit</groupId>    
            <artifactId>junit</artifactId>    
            <version>4.12</version>  
            <scope>test</scope>    
        </dependency>    
        <dependency>    
            <groupId>ant</groupId>    
            <artifactId>ant</artifactId>    
            <version>1.7.0</version>    
        </dependency>    
        <dependency>    
            <groupId>wsdl4j</groupId>    
            <artifactId>wsdl4j</artifactId>    
            <version>1.6.2</version>    
        </dependency>    
        <dependency>    
            <groupId>javax.xml</groupId>    
            <artifactId>jaxrpc</artifactId>    
            <version>1.1</version>    
        </dependency>    
        <dependency>    
            <groupId>org.eclipse.jdt.core.compiler</groupId>    
            <artifactId>ecj</artifactId>    
            <version>4.6.1</version>  
        </dependency>    
    </dependencies>  
	
	<build>    
        <finalName>Tomcat8.0</finalName>    
        <sourceDirectory>java</sourceDirectory>    
        <resources>    
            <resource>    
                <directory>java</directory>    
            </resource>    
        </resources>    
        <plugins>    
            <plugin>    
                <groupId>org.apache.maven.plugins</groupId>    
                <artifactId>maven-compiler-plugin</artifactId>    
                <version>2.0.2</version>    
                <configuration>    
                    <encoding>UTF-8</encoding>    
                    <source>1.8</source>    
                    <target>1.8</target>    
                </configuration>    
            </plugin>    
        </plugins>    
    </build>  
</project>
```

:::



## IDEA导入项目




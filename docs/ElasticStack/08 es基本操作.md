---
sidebarDepth: 3
sidebar: auto
prev:
  text: Back To 目录
  link: /ElasticStack/
typora-root-url: ..\.vuepress\public
---



## 索引库

### 创建索引库

```json
PUT /索引名称
PUT /es_db
```

### 查询索引库

```
GET /索引名称
GET /es_db
```

### 删除索引库

```
DELETE /索引名称
DELETE /es_db	
```



## 文档

### 添加文档

::: tip

格式: **PUT /索引名称/类型/id**

:::

```json
PUT /es_db/_doc/1
{
  "name": "张三",
  "sex": 1,
  "age": 25,
  "address": "广州天河公园",
  "remark": "java developer"
}

PUT /es_db/_doc/2
{
  "name": "李四",
  "sex": 1,
  "age": 28,
  "address": "广州荔湾大厦",
  "remark": "java assistant"
}
```

### 修改文档

::: tip

格式： PUT /索引名称/类型/id

:::

```json
PUT /es_db/_doc/1
{
    "name": "q10viking",
    "sex": 1,
    "age": 25,
    "address": "张家界森林公园",
    "remark": "php developer assistant"				
}
```

###  单独修改

```json
POST /es_sc/_doc/1
{
  "id": 1,
  "name": "q10viking",
  "desc": "静默 learn elastic search",
  "create_date": "2021-02-24"
}

//	单独修改某个值
POST /es_sc/_update/1
{
  "doc": {
    "name": "q10viking666"
  }
}
```



#### PUT与POST的区别⭐

1. PUT需要对一个具体的资源进行操作也就是要确定id才能进行更新/创建
2. POST是可以针对整个资源集合进行操作的，如果不写id就由ES生成一个唯一id进行创建新文档
   1. 如果填了id那就针对这个id的文档进行创建/更新
3. **PUT只会将json数据全都进行替换, POST只会更新相同字段的值**⭐





### 查询文档

::: tip

格式： **GET /索引名称/类型/id**

:::

```sh
GET /es_db/_doc/1
```



### 删除文档

::: tip

格式： DELETE /索引名称/类型/id

:::

```json
DELETE /es_db/_doc/1
```


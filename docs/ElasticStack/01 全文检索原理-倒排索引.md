---
sidebarDepth: 3
sidebar: auto
prev:
  text: Back To 目录
  link: /ElasticStack/
typora-root-url: ..\.vuepress\public
---



## 什么是全文检索

1. 通过一个程序扫描文本中的每一个单词，**针对单词建立索引**，并保存该单词在文本中的**位置**、以及出现的**次数**
2. 用户查询时，通过之前建立好的索引来查询，将**索引中单词对应的文本位置、出现的次数返回给用户**，因为有了具体文本的位置，所以就可以将具体内容读取出来了

## **分词原理之倒排索引**

1. 数据放入到es中会进行**分词**处理
2. 分词处理之后会进行去重
3. 去重之后会进行排序，如会根据WORD进行排序

如查询的时候，输入hello what world,也会进行分词

```java
hello   what  world    ====>   hello
                                what
                                world
```



![](/images/elasticsearch/image-20210501224750408.png)

![](/images/elasticsearch/3218.png)

![](/images/elasticsearch/3216.png)

### 倒排索引⭐

::: tip

倒排索引总结：

❤️索引就类似于目录，平时我们使用的都是索引，都是通过主键定位到某条数据，那么倒排索引呢，刚好相反，数据对应到主键．❤️

:::

这里以一个博客文章的内容为例:

| 文章ID | 文章标题           | 文章内容                                           |
| ------ | ------------------ | -------------------------------------------------- |
| 1      | 浅析JAVA设计模式   | JAVA设计模式是每一个JAVA程序员都应该掌握的进阶知识 |
| 2      | JAVA多线程设计模式 | JAVA多线程与设计模式结合                           |

假如，我们有一个站内搜索的功能，通过某个关键词来搜索相关的文章，那么这个关键词可能出现在标题中，也可能出现在文章内容中，那我们将会在创建或修改文章的时候，建立一个**关键词（经过了分词）与文章的对应关系表**⭐，这种，我们可以称之为倒排索引,因此倒排索引，也可称之为反向索引．如：

| 关键词   | 文章ID |
| -------- | ------ |
| JAVA     | 1      |
| 设计模式 | 1,2    |
| 多线程   | 2      |


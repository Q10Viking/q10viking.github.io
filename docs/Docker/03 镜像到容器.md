---
sidebarDepth: 3
sidebar: auto
prev:
  text: Back To 目录
  link: /Docker/
typora-root-url: ..\.vuepress\public
---



::: tip

[Get started | Docker Documentation](https://docs.docker.com/get-started/)

:::

## 创建Dockfile

官网的Dockfile稍微改一下，主要是解决yarn 下载package的retrying的问题

```dockerfile
# syntax=docker/dockerfile:1
FROM node:12-alpine
RUN apk add --no-cache python2 g++ make
WORKDIR /app
COPY . .
RUN yarn install --production --network-timeout 1000000
CMD ["node", "src/index.js"]
EXPOSE 3000
```



## 构建镜像

```sh
# -t tag标签(image name)  . 代表当前目录下的Dockerfile
docker build -t jingmo-hello-docker .
```

![](/images/Docker/image-20221111144904615.png)

命令行查看

```sh
PS C:\> docker images
REPOSITORY            TAG       IMAGE ID       CREATED        SIZE
jingmo-hello-docker   latest    ff9d6d43e333   12 hours ago   403MB
```



## 启动容器

```sh
docker run -dp 3000:3000 jingmo-hello-docker
```

![image-20221111144439879](/images/Docker/image-20221111144439879.png)

命令行查看

```sh
PS C:\> docker ps
CONTAINER ID   IMAGE                 COMMAND                  CREATED         STATUS         PORTS                    NAMES
1deef0e20d44   jingmo-hello-docker   "docker-entrypoint.s…"   5 minutes ago   Up 5 minutes   0.0.0.0:3000->3000/tcp   quirky_perlman
```

